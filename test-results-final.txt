
> ai-uni-tutor@0.0.0 test
> vitest


[1m[44m DEV [49m[22m [34mv4.0.18 [39m[90m/Users/zyao0693/Desktop/www/ai-uni-tutor[39m

[90mstdout[2m | src/lib/strategies/StrategyFactory.test.ts
[22m[39m[dotenv@17.2.3] injecting env (14) from .env.local -- tip: ðŸ” prevent committing .env to code: https://dotenvx.com/precommit

[90mstdout[2m | src/lib/notifications.test.ts
[22m[39m[dotenv@17.2.3] injecting env (14) from .env.local -- tip: âš™ï¸  load multiple .env files with { path: ['.env.local', '.env'] }

[90mstdout[2m | src/constants/placeholders.test.ts
[22m[39m[dotenv@17.2.3] injecting env (14) from .env.local -- tip: ðŸ› ï¸  run anywhere with `dotenvx run -- yourcommand`

[90mstdout[2m | src/lib/contentParser.test.ts
[22m[39m[dotenv@17.2.3] injecting env (14) from .env.local -- tip: ðŸ” prevent building .env in docker: https://dotenvx.com/prebuild

[90mstdout[2m | src/lib/redis.test.ts
[22m[39m[dotenv@17.2.3] injecting env (14) from .env.local -- tip: ðŸ” prevent building .env in docker: https://dotenvx.com/prebuild

[90mstdout[2m | src/lib/services/QuotaService.test.ts
[22m[39m[dotenv@17.2.3] injecting env (14) from .env.local -- tip: âš™ï¸  load multiple .env files with { path: ['.env.local', '.env'] }

 [32mâœ“[39m src/constants/placeholders.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 2[2mms[22m[39m
 [32mâœ“[39m src/lib/contentParser.test.ts [2m([22m[2m10 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/lib/notifications.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/lib/redis.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 18[2mms[22m[39m
[90mstderr[2m | src/lib/services/QuotaService.test.ts[2m > [22m[2mQuotaService[2m > [22m[2mshould fail open if redis fails
[22m[39m[QuotaService] Check failed: Error: Redis connection failed
    at [90m/Users/zyao0693/Desktop/www/ai-uni-tutor/[39msrc/lib/services/QuotaService.test.ts:132:61
    at [90mfile:///Users/zyao0693/Desktop/www/ai-uni-tutor/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:145:11
    at [90mfile:///Users/zyao0693/Desktop/www/ai-uni-tutor/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:915:26
    at [90mfile:///Users/zyao0693/Desktop/www/ai-uni-tutor/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:1243:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///Users/zyao0693/Desktop/www/ai-uni-tutor/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:1209:10[90m)[39m
    at [90mfile:///Users/zyao0693/Desktop/www/ai-uni-tutor/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:1653:37
    at Traces.$ [90m(file:///Users/zyao0693/Desktop/www/ai-uni-tutor/[39mnode_modules/[4mvitest[24m/dist/chunks/traces.CCmnQaNT.js:142:27[90m)[39m
    at trace [90m(file:///Users/zyao0693/Desktop/www/ai-uni-tutor/[39mnode_modules/[4mvitest[24m/dist/chunks/test.B8ej_ZHS.js:239:21[90m)[39m
    at runTest [90m(file:///Users/zyao0693/Desktop/www/ai-uni-tutor/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:1653:12[90m)[39m

 [32mâœ“[39m src/lib/services/QuotaService.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/lib/strategies/StrategyFactory.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 1[2mms[22m[39m

[2m Test Files [22m [1m[32m6 passed[39m[22m[90m (6)[39m
[2m      Tests [22m [1m[32m27 passed[39m[22m[90m (27)[39m
[2m   Start at [22m 18:32:52
[2m   Duration [22m 267ms[2m (transform 422ms, setup 303ms, import 221ms, tests 31ms, environment 0ms)[22m

[1m[42m PASS [49m[22m [32mWaiting for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
